/**
 * @fileoverview This file is generated by the Angular 2 template compiler.
 * Do not edit.
 * @suppress {suspiciousCode,uselessCode,missingProperties}
 */
/* tslint:disable */
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var import0 = require('../../../lib/components/loading.component');
var import1 = require('@angular/core/src/change_detection/change_detection_util');
var import2 = require('@angular/core/src/linker/view');
var import3 = require('@angular/core/src/linker/view_utils');
var import5 = require('@angular/core/src/metadata/view');
var import6 = require('@angular/core/src/linker/view_type');
var import7 = require('@angular/core/src/change_detection/constants');
var import8 = require('@angular/core/src/linker/component_factory');
var import9 = require('@angular/core/src/linker/view_container');
var import10 = require('../../node_modules/@angular/common/src/directives/ng_if.ngfactory');
var import11 = require('../../node_modules/@angular/common/src/directives/ng_template_outlet.ngfactory');
var import12 = require('@angular/core/src/linker/template_ref');
var import13 = require('@angular/common/src/directives/ng_if');
var import14 = require('@angular/common/src/directives/ng_template_outlet');
var Wrapper_LoadingComponent = (function () {
    function Wrapper_LoadingComponent() {
        this._changed = false;
        this.context = new import0.LoadingComponent();
        this._expr_0 = import1.UNINITIALIZED;
    }
    Wrapper_LoadingComponent.prototype.ngOnDetach = function (view, componentView, el) {
    };
    Wrapper_LoadingComponent.prototype.ngOnDestroy = function () {
    };
    Wrapper_LoadingComponent.prototype.check_loadingTemplate = function (currValue, throwOnChange, forceUpdate) {
        if ((forceUpdate || import3.checkBinding(throwOnChange, this._expr_0, currValue))) {
            this._changed = true;
            this.context.loadingTemplate = currValue;
            this._expr_0 = currValue;
        }
    };
    Wrapper_LoadingComponent.prototype.ngDoCheck = function (view, el, throwOnChange) {
        var changed = this._changed;
        this._changed = false;
        return changed;
    };
    Wrapper_LoadingComponent.prototype.checkHost = function (view, componentView, el, throwOnChange) {
    };
    Wrapper_LoadingComponent.prototype.handleEvent = function (eventName, $event) {
        var result = true;
        return result;
    };
    Wrapper_LoadingComponent.prototype.subscribe = function (view, _eventHandler) {
        this._eventHandler = _eventHandler;
    };
    return Wrapper_LoadingComponent;
}());
exports.Wrapper_LoadingComponent = Wrapper_LoadingComponent;
var renderType_LoadingComponent_Host = import3.createRenderComponentType('', 0, import5.ViewEncapsulation.None, [], {});
var View_LoadingComponent_Host0 = (function (_super) {
    __extends(View_LoadingComponent_Host0, _super);
    function View_LoadingComponent_Host0(viewUtils, parentView, parentIndex, parentElement) {
        _super.call(this, View_LoadingComponent_Host0, renderType_LoadingComponent_Host, import6.ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, import7.ChangeDetectorStatus.CheckAlways);
    }
    View_LoadingComponent_Host0.prototype.createInternal = function (rootSelector) {
        this._el_0 = import3.selectOrCreateRenderHostElement(this.renderer, 'LoadingComponent', import3.EMPTY_INLINE_ARRAY, rootSelector, null);
        this.compView_0 = new View_LoadingComponent0(this.viewUtils, this, 0, this._el_0);
        this._LoadingComponent_0_3 = new Wrapper_LoadingComponent();
        this.compView_0.create(this._LoadingComponent_0_3.context);
        this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
        return new import8.ComponentRef_(0, this, this._el_0, this._LoadingComponent_0_3.context);
    };
    View_LoadingComponent_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import0.LoadingComponent) && (0 === requestNodeIndex))) {
            return this._LoadingComponent_0_3.context;
        }
        return notFoundResult;
    };
    View_LoadingComponent_Host0.prototype.detectChangesInternal = function (throwOnChange) {
        this._LoadingComponent_0_3.ngDoCheck(this, this._el_0, throwOnChange);
        this.compView_0.detectChanges(throwOnChange);
    };
    View_LoadingComponent_Host0.prototype.destroyInternal = function () {
        this.compView_0.destroy();
    };
    View_LoadingComponent_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
        cb(this._el_0, ctx);
    };
    return View_LoadingComponent_Host0;
}(import2.AppView));
exports.LoadingComponentNgFactory = new import8.ComponentFactory('LoadingComponent', View_LoadingComponent_Host0, import0.LoadingComponent);
var styles_LoadingComponent = [];
var renderType_LoadingComponent = import3.createRenderComponentType('', 0, import5.ViewEncapsulation.None, styles_LoadingComponent, {});
var View_LoadingComponent0 = (function (_super) {
    __extends(View_LoadingComponent0, _super);
    function View_LoadingComponent0(viewUtils, parentView, parentIndex, parentElement) {
        _super.call(this, View_LoadingComponent0, renderType_LoadingComponent, import6.ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, import7.ChangeDetectorStatus.CheckAlways);
    }
    View_LoadingComponent0.prototype.createInternal = function (rootSelector) {
        var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
        this._anchor_0 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._vc_0 = new import9.ViewContainer(0, null, this, this._anchor_0);
        this._TemplateRef_0_5 = new import12.TemplateRef_(this, 0, this._anchor_0);
        this._NgIf_0_6 = new import10.Wrapper_NgIf(this._vc_0.vcRef, this._TemplateRef_0_5);
        this._text_1 = this.renderer.createText(parentRenderNode, '\n  ', null);
        this._anchor_2 = this.renderer.createTemplateAnchor(parentRenderNode, null);
        this._vc_2 = new import9.ViewContainer(2, null, this, this._anchor_2);
        this._TemplateRef_2_5 = new import12.TemplateRef_(this, 2, this._anchor_2);
        this._NgTemplateOutlet_2_6 = new import11.Wrapper_NgTemplateOutlet(this._vc_2.vcRef);
        this.init(null, (this.renderer.directRenderer ? null : [
            this._anchor_0,
            this._text_1,
            this._anchor_2
        ]), null);
        return null;
    };
    View_LoadingComponent0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import12.TemplateRef) && (0 === requestNodeIndex))) {
            return this._TemplateRef_0_5;
        }
        if (((token === import13.NgIf) && (0 === requestNodeIndex))) {
            return this._NgIf_0_6.context;
        }
        if (((token === import12.TemplateRef) && (2 === requestNodeIndex))) {
            return this._TemplateRef_2_5;
        }
        if (((token === import14.NgTemplateOutlet) && (2 === requestNodeIndex))) {
            return this._NgTemplateOutlet_2_6.context;
        }
        return notFoundResult;
    };
    View_LoadingComponent0.prototype.detectChangesInternal = function (throwOnChange) {
        var currVal_0_0_0 = !this.context.loadingTemplate;
        this._NgIf_0_6.check_ngIf(currVal_0_0_0, throwOnChange, false);
        this._NgIf_0_6.ngDoCheck(this, this._anchor_0, throwOnChange);
        var currVal_2_0_0 = this.context.loadingTemplate;
        this._NgTemplateOutlet_2_6.check_ngTemplateOutlet(currVal_2_0_0, throwOnChange, false);
        this._NgTemplateOutlet_2_6.ngDoCheck(this, this._anchor_2, throwOnChange);
        this._vc_0.detectChangesInNestedViews(throwOnChange);
        this._vc_2.detectChangesInNestedViews(throwOnChange);
    };
    View_LoadingComponent0.prototype.destroyInternal = function () {
        this._vc_0.destroyNestedViews();
        this._vc_2.destroyNestedViews();
    };
    View_LoadingComponent0.prototype.createEmbeddedViewInternal = function (nodeIndex) {
        if ((nodeIndex == 0)) {
            return new View_LoadingComponent1(this.viewUtils, this, 0, this._anchor_0, this._vc_0);
        }
        if ((nodeIndex == 2)) {
            return new View_LoadingComponent2(this.viewUtils, this, 2, this._anchor_2, this._vc_2);
        }
        return null;
    };
    return View_LoadingComponent0;
}(import2.AppView));
exports.View_LoadingComponent0 = View_LoadingComponent0;
var View_LoadingComponent1 = (function (_super) {
    __extends(View_LoadingComponent1, _super);
    function View_LoadingComponent1(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
        _super.call(this, View_LoadingComponent1, renderType_LoadingComponent, import6.ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, import7.ChangeDetectorStatus.CheckAlways, declaredViewContainer);
    }
    View_LoadingComponent1.prototype.createInternal = function (rootSelector) {
        this._el_0 = import3.createRenderElement(this.renderer, null, 'span', import3.EMPTY_INLINE_ARRAY, null);
        this._text_1 = this.renderer.createText(this._el_0, 'loading...', null);
        this.init(this._el_0, (this.renderer.directRenderer ? null : [
            this._el_0,
            this._text_1
        ]), null);
        return null;
    };
    View_LoadingComponent1.prototype.visitRootNodesInternal = function (cb, ctx) {
        cb(this._el_0, ctx);
    };
    return View_LoadingComponent1;
}(import2.AppView));
var View_LoadingComponent2 = (function (_super) {
    __extends(View_LoadingComponent2, _super);
    function View_LoadingComponent2(viewUtils, parentView, parentIndex, parentElement, declaredViewContainer) {
        _super.call(this, View_LoadingComponent2, renderType_LoadingComponent, import6.ViewType.EMBEDDED, viewUtils, parentView, parentIndex, parentElement, import7.ChangeDetectorStatus.CheckAlways, declaredViewContainer);
    }
    View_LoadingComponent2.prototype.createInternal = function (rootSelector) {
        this._el_0 = this.renderer.createTemplateAnchor(null, null);
        this.init(this._el_0, (this.renderer.directRenderer ? null : []), null);
        return null;
    };
    View_LoadingComponent2.prototype.visitRootNodesInternal = function (cb, ctx) {
        cb(this._el_0, ctx);
    };
    return View_LoadingComponent2;
}(import2.AppView));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGluZy5jb21wb25lbnQubmdmYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29tcGlsZWQvbGliL2NvbXBvbmVudHMvbG9hZGluZy5jb21wb25lbnQubmdmYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDRixvQkFBb0I7Ozs7Ozs7QUFFckIsSUFBWSxPQUFPLFdBQU0sMkNBQTJDLENBQUMsQ0FBQTtBQUNyRSxJQUFZLE9BQU8sV0FBTSwwREFBMEQsQ0FBQyxDQUFBO0FBQ3BGLElBQVksT0FBTyxXQUFNLCtCQUErQixDQUFDLENBQUE7QUFDekQsSUFBWSxPQUFPLFdBQU0scUNBQXFDLENBQUMsQ0FBQTtBQUUvRCxJQUFZLE9BQU8sV0FBTSxpQ0FBaUMsQ0FBQyxDQUFBO0FBQzNELElBQVksT0FBTyxXQUFNLG9DQUFvQyxDQUFDLENBQUE7QUFDOUQsSUFBWSxPQUFPLFdBQU0sOENBQThDLENBQUMsQ0FBQTtBQUN4RSxJQUFZLE9BQU8sV0FBTSw0Q0FBNEMsQ0FBQyxDQUFBO0FBQ3RFLElBQVksT0FBTyxXQUFNLHlDQUF5QyxDQUFDLENBQUE7QUFDbkUsSUFBWSxRQUFRLFdBQU0sbUVBQW1FLENBQUMsQ0FBQTtBQUM5RixJQUFZLFFBQVEsV0FBTSxnRkFBZ0YsQ0FBQyxDQUFBO0FBQzNHLElBQVksUUFBUSxXQUFNLHVDQUF1QyxDQUFDLENBQUE7QUFDbEUsSUFBWSxRQUFRLFdBQU0sc0NBQXNDLENBQUMsQ0FBQTtBQUNqRSxJQUFZLFFBQVEsV0FBTSxtREFBbUQsQ0FBQyxDQUFBO0FBQzlFO0lBS0U7UUFDRSxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDO0lBQ3ZDLENBQUM7SUFDRCw2Q0FBVSxHQUFWLFVBQVcsSUFBeUIsRUFBQyxhQUFrQyxFQUFDLEVBQU07SUFDOUUsQ0FBQztJQUNELDhDQUFXLEdBQVg7SUFDQSxDQUFDO0lBQ0Qsd0RBQXFCLEdBQXJCLFVBQXNCLFNBQWEsRUFBQyxhQUFxQixFQUFDLFdBQW1CO1FBQzNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxJQUFJLE9BQU8sQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFDLElBQUksQ0FBQyxPQUFPLEVBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEYsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDckIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLEdBQUcsU0FBUyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFDO1FBQzNCLENBQUM7SUFDSCxDQUFDO0lBQ0QsNENBQVMsR0FBVCxVQUFVLElBQXlCLEVBQUMsRUFBTSxFQUFDLGFBQXFCO1FBQzlELElBQUksT0FBTyxHQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDaEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDdEIsTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBQ0QsNENBQVMsR0FBVCxVQUFVLElBQXlCLEVBQUMsYUFBa0MsRUFBQyxFQUFNLEVBQUMsYUFBcUI7SUFDbkcsQ0FBQztJQUNELDhDQUFXLEdBQVgsVUFBWSxTQUFnQixFQUFDLE1BQVU7UUFDckMsSUFBSSxNQUFNLEdBQVcsSUFBSSxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUNELDRDQUFTLEdBQVQsVUFBVSxJQUF5QixFQUFDLGFBQWlCO1FBQ25ELElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO0lBQ3JDLENBQUM7SUFDSCwrQkFBQztBQUFELENBQUMsQUFuQ0QsSUFtQ0M7QUFuQ1ksZ0NBQXdCLDJCQW1DcEMsQ0FBQTtBQUNELElBQUksZ0NBQWdDLEdBQStCLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsRUFBWSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzNKO0lBQTBDLCtDQUFvQjtJQUk1RCxxQ0FBWSxTQUEyQixFQUFDLFVBQStCLEVBQUMsV0FBa0IsRUFBQyxhQUFpQjtRQUMxRyxrQkFBTSwyQkFBMkIsRUFBQyxnQ0FBZ0MsRUFBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BMLENBQUM7SUFDRCxvREFBYyxHQUFkLFVBQWUsWUFBbUI7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsK0JBQStCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxrQkFBa0IsRUFBQyxPQUFPLENBQUMsa0JBQWtCLEVBQUMsWUFBWSxFQUFFLElBQVksQ0FBQyxDQUFDO1FBQzdJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLHdCQUF3QixFQUFFLENBQUM7UUFDNUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBQyxDQUFPLElBQUksQ0FBQyxRQUFTLENBQUMsY0FBYyxHQUFHLElBQVksR0FBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQVksQ0FBQyxDQUFDO1FBQ3ZHLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQU0sQ0FBQyxFQUFDLElBQUksRUFBQyxJQUFJLENBQUMsS0FBSyxFQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM5RixDQUFDO0lBQ0QseURBQW1CLEdBQW5CLFVBQW9CLEtBQVMsRUFBQyxnQkFBdUIsRUFBQyxjQUFrQjtRQUN0RSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE9BQU8sQ0FBQztRQUFDLENBQUM7UUFDdEgsTUFBTSxDQUFDLGNBQWMsQ0FBQztJQUN4QixDQUFDO0lBQ0QsMkRBQXFCLEdBQXJCLFVBQXNCLGFBQXFCO1FBQ3pDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsYUFBYSxDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNELHFEQUFlLEdBQWY7UUFDRSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFDRCw0REFBc0IsR0FBdEIsVUFBdUIsRUFBTSxFQUFDLEdBQU87UUFDbkMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsR0FBRyxDQUFDLENBQUM7SUFDckIsQ0FBQztJQUNILGtDQUFDO0FBQUQsQ0FBQyxBQTdCRCxDQUEwQyxPQUFPLENBQUMsT0FBTyxHQTZCeEQ7QUFDWSxpQ0FBeUIsR0FBc0QsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLENBQTJCLGtCQUFrQixFQUFDLDJCQUEyQixFQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVOLElBQU0sdUJBQXVCLEdBQVUsRUFBWSxDQUFDO0FBQ3BELElBQUksMkJBQTJCLEdBQStCLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUMsdUJBQXVCLEVBQUMsRUFBRSxDQUFDLENBQUM7QUFDaEs7SUFBNEMsMENBQXlDO0lBVW5GLGdDQUFZLFNBQTJCLEVBQUMsVUFBK0IsRUFBQyxXQUFrQixFQUFDLGFBQWlCO1FBQzFHLGtCQUFNLHNCQUFzQixFQUFDLDJCQUEyQixFQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUMsV0FBVyxFQUFDLGFBQWEsRUFBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDL0ssQ0FBQztJQUNELCtDQUFjLEdBQWQsVUFBZSxZQUFtQjtRQUNoQyxJQUFNLGdCQUFnQixHQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsZ0JBQWdCLEVBQUUsSUFBWSxDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLElBQVksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbkYsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBQyxNQUFNLEVBQUUsSUFBWSxDQUFDLENBQUM7UUFDL0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLGdCQUFnQixFQUFFLElBQVksQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxJQUFZLEVBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM1RSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JGLElBQUksQ0FBQyxJQUFJLENBQUUsSUFBWSxFQUFDLENBQU8sSUFBSSxDQUFDLFFBQVMsQ0FBQyxjQUFjLEdBQUcsSUFBWSxHQUFFO1lBQzNFLElBQUksQ0FBQyxTQUFTO1lBQ2QsSUFBSSxDQUFDLE9BQU87WUFDWixJQUFJLENBQUMsU0FBUztTQUNmLENBQ0EsRUFBRSxJQUFZLENBQUMsQ0FBQztRQUNqQixNQUFNLENBQUUsSUFBWSxDQUFDO0lBQ3ZCLENBQUM7SUFDRCxvREFBbUIsR0FBbkIsVUFBb0IsS0FBUyxFQUFDLGdCQUF1QixFQUFDLGNBQWtCO1FBQ3RFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQUMsQ0FBQztRQUNyRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDO1FBQUMsQ0FBQztRQUMvRixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztRQUFDLENBQUM7UUFDckcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxPQUFPLENBQUM7UUFBQyxDQUFDO1FBQ3ZILE1BQU0sQ0FBQyxjQUFjLENBQUM7SUFDeEIsQ0FBQztJQUNELHNEQUFxQixHQUFyQixVQUFzQixhQUFxQjtRQUN6QyxJQUFNLGFBQWEsR0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDO1FBQzVELElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLGFBQWEsRUFBQyxhQUFhLEVBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsYUFBYSxDQUFDLENBQUM7UUFDNUQsSUFBTSxhQUFhLEdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUM7UUFDdkQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLHNCQUFzQixDQUFDLGFBQWEsRUFBQyxhQUFhLEVBQUMsS0FBSyxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxhQUFhLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsS0FBSyxDQUFDLDBCQUEwQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUNELGdEQUFlLEdBQWY7UUFDRSxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFDRCwyREFBMEIsR0FBMUIsVUFBMkIsU0FBZ0I7UUFDekMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLElBQUksc0JBQXNCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQUMsQ0FBQztRQUM3RyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFBQyxDQUFDO1FBQzdHLE1BQU0sQ0FBRSxJQUFZLENBQUM7SUFDdkIsQ0FBQztJQUNILDZCQUFDO0FBQUQsQ0FBQyxBQTFERCxDQUE0QyxPQUFPLENBQUMsT0FBTyxHQTBEMUQ7QUExRFksOEJBQXNCLHlCQTBEbEMsQ0FBQTtBQUNEO0lBQXFDLDBDQUFvQjtJQUd2RCxnQ0FBWSxTQUEyQixFQUFDLFVBQStCLEVBQUMsV0FBa0IsRUFBQyxhQUFpQixFQUFDLHFCQUEyQztRQUN0SixrQkFBTSxzQkFBc0IsRUFBQywyQkFBMkIsRUFBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQ3BNLENBQUM7SUFDRCwrQ0FBYyxHQUFkLFVBQWUsWUFBbUI7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFZLEVBQUMsTUFBTSxFQUFDLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRSxJQUFZLENBQUMsQ0FBQztRQUN0SCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsWUFBWSxFQUFFLElBQVksQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBQyxDQUFPLElBQUksQ0FBQyxRQUFTLENBQUMsY0FBYyxHQUFHLElBQVksR0FBRTtZQUN4RSxJQUFJLENBQUMsS0FBSztZQUNWLElBQUksQ0FBQyxPQUFPO1NBQ2IsQ0FDQSxFQUFFLElBQVksQ0FBQyxDQUFDO1FBQ2pCLE1BQU0sQ0FBRSxJQUFZLENBQUM7SUFDdkIsQ0FBQztJQUNELHVEQUFzQixHQUF0QixVQUF1QixFQUFNLEVBQUMsR0FBTztRQUNuQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBQyxHQUFHLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBQ0gsNkJBQUM7QUFBRCxDQUFDLEFBbkJELENBQXFDLE9BQU8sQ0FBQyxPQUFPLEdBbUJuRDtBQUNEO0lBQXFDLDBDQUFvQjtJQUV2RCxnQ0FBWSxTQUEyQixFQUFDLFVBQStCLEVBQUMsV0FBa0IsRUFBQyxhQUFpQixFQUFDLHFCQUEyQztRQUN0SixrQkFBTSxzQkFBc0IsRUFBQywyQkFBMkIsRUFBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBQyxTQUFTLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxhQUFhLEVBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQ3BNLENBQUM7SUFDRCwrQ0FBYyxHQUFkLFVBQWUsWUFBbUI7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFFLElBQVksRUFBRSxJQUFZLENBQUMsQ0FBQztRQUM3RSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsQ0FBTyxJQUFJLENBQUMsUUFBUyxDQUFDLGNBQWMsR0FBRyxJQUFZLEdBQUcsRUFBWSxDQUFDLEVBQUUsSUFBWSxDQUFDLENBQUM7UUFDeEcsTUFBTSxDQUFFLElBQVksQ0FBQztJQUN2QixDQUFDO0lBQ0QsdURBQXNCLEdBQXRCLFVBQXVCLEVBQU0sRUFBQyxHQUFPO1FBQ25DLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDSCw2QkFBQztBQUFELENBQUMsQUFiRCxDQUFxQyxPQUFPLENBQUMsT0FBTyxHQWFuRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVvdmVydmlldyBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBBbmd1bGFyIDIgdGVtcGxhdGUgY29tcGlsZXIuXG4gKiBEbyBub3QgZWRpdC5cbiAqIEBzdXBwcmVzcyB7c3VzcGljaW91c0NvZGUsdXNlbGVzc0NvZGUsbWlzc2luZ1Byb3BlcnRpZXN9XG4gKi9cbiAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuXG5pbXBvcnQgKiBhcyBpbXBvcnQwIGZyb20gJy4uLy4uLy4uL2xpYi9jb21wb25lbnRzL2xvYWRpbmcuY29tcG9uZW50JztcbmltcG9ydCAqIGFzIGltcG9ydDEgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0aW9uX3V0aWwnO1xuaW1wb3J0ICogYXMgaW1wb3J0MiBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdmlldyc7XG5pbXBvcnQgKiBhcyBpbXBvcnQzIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3X3V0aWxzJztcbmltcG9ydCAqIGFzIGltcG9ydDQgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvcmVuZGVyL2FwaSc7XG5pbXBvcnQgKiBhcyBpbXBvcnQ1IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL21ldGFkYXRhL3ZpZXcnO1xuaW1wb3J0ICogYXMgaW1wb3J0NiBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdmlld190eXBlJztcbmltcG9ydCAqIGFzIGltcG9ydDcgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi9jb25zdGFudHMnO1xuaW1wb3J0ICogYXMgaW1wb3J0OCBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvY29tcG9uZW50X2ZhY3RvcnknO1xuaW1wb3J0ICogYXMgaW1wb3J0OSBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdmlld19jb250YWluZXInO1xuaW1wb3J0ICogYXMgaW1wb3J0MTAgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ19pZi5uZ2ZhY3RvcnknO1xuaW1wb3J0ICogYXMgaW1wb3J0MTEgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ190ZW1wbGF0ZV9vdXRsZXQubmdmYWN0b3J5JztcbmltcG9ydCAqIGFzIGltcG9ydDEyIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci90ZW1wbGF0ZV9yZWYnO1xuaW1wb3J0ICogYXMgaW1wb3J0MTMgZnJvbSAnQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzL25nX2lmJztcbmltcG9ydCAqIGFzIGltcG9ydDE0IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ190ZW1wbGF0ZV9vdXRsZXQnO1xuZXhwb3J0IGNsYXNzIFdyYXBwZXJfTG9hZGluZ0NvbXBvbmVudCB7XG4gIC8qcHJpdmF0ZSovIF9ldmVudEhhbmRsZXI6RnVuY3Rpb247XG4gIGNvbnRleHQ6aW1wb3J0MC5Mb2FkaW5nQ29tcG9uZW50O1xuICAvKnByaXZhdGUqLyBfY2hhbmdlZDpib29sZWFuO1xuICAvKnByaXZhdGUqLyBfZXhwcl8wOmFueTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY2hhbmdlZCA9IGZhbHNlO1xuICAgIHRoaXMuY29udGV4dCA9IG5ldyBpbXBvcnQwLkxvYWRpbmdDb21wb25lbnQoKTtcbiAgICB0aGlzLl9leHByXzAgPSBpbXBvcnQxLlVOSU5JVElBTElaRUQ7XG4gIH1cbiAgbmdPbkRldGFjaCh2aWV3OmltcG9ydDIuQXBwVmlldzxhbnk+LGNvbXBvbmVudFZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4sZWw6YW55KTp2b2lkIHtcbiAgfVxuICBuZ09uRGVzdHJveSgpOnZvaWQge1xuICB9XG4gIGNoZWNrX2xvYWRpbmdUZW1wbGF0ZShjdXJyVmFsdWU6YW55LHRocm93T25DaGFuZ2U6Ym9vbGVhbixmb3JjZVVwZGF0ZTpib29sZWFuKTp2b2lkIHtcbiAgICBpZiAoKGZvcmNlVXBkYXRlIHx8IGltcG9ydDMuY2hlY2tCaW5kaW5nKHRocm93T25DaGFuZ2UsdGhpcy5fZXhwcl8wLGN1cnJWYWx1ZSkpKSB7XG4gICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuY29udGV4dC5sb2FkaW5nVGVtcGxhdGUgPSBjdXJyVmFsdWU7XG4gICAgICB0aGlzLl9leHByXzAgPSBjdXJyVmFsdWU7XG4gICAgfVxuICB9XG4gIG5nRG9DaGVjayh2aWV3OmltcG9ydDIuQXBwVmlldzxhbnk+LGVsOmFueSx0aHJvd09uQ2hhbmdlOmJvb2xlYW4pOmJvb2xlYW4ge1xuICAgIHZhciBjaGFuZ2VkOmFueSA9IHRoaXMuX2NoYW5nZWQ7XG4gICAgdGhpcy5fY2hhbmdlZCA9IGZhbHNlO1xuICAgIHJldHVybiBjaGFuZ2VkO1xuICB9XG4gIGNoZWNrSG9zdCh2aWV3OmltcG9ydDIuQXBwVmlldzxhbnk+LGNvbXBvbmVudFZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4sZWw6YW55LHRocm93T25DaGFuZ2U6Ym9vbGVhbik6dm9pZCB7XG4gIH1cbiAgaGFuZGxlRXZlbnQoZXZlbnROYW1lOnN0cmluZywkZXZlbnQ6YW55KTpib29sZWFuIHtcbiAgICB2YXIgcmVzdWx0OmJvb2xlYW4gPSB0cnVlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgc3Vic2NyaWJlKHZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4sX2V2ZW50SGFuZGxlcjphbnkpOnZvaWQge1xuICAgIHRoaXMuX2V2ZW50SGFuZGxlciA9IF9ldmVudEhhbmRsZXI7XG4gIH1cbn1cbnZhciByZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnRfSG9zdDppbXBvcnQ0LlJlbmRlckNvbXBvbmVudFR5cGUgPSBpbXBvcnQzLmNyZWF0ZVJlbmRlckNvbXBvbmVudFR5cGUoJycsMCxpbXBvcnQ1LlZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsKFtdIGFzIGFueVtdKSx7fSk7XG5jbGFzcyBWaWV3X0xvYWRpbmdDb21wb25lbnRfSG9zdDAgZXh0ZW5kcyBpbXBvcnQyLkFwcFZpZXc8YW55PiB7XG4gIF9lbF8wOmFueTtcbiAgY29tcFZpZXdfMDppbXBvcnQyLkFwcFZpZXc8aW1wb3J0MC5Mb2FkaW5nQ29tcG9uZW50PjtcbiAgX0xvYWRpbmdDb21wb25lbnRfMF8zOldyYXBwZXJfTG9hZGluZ0NvbXBvbmVudDtcbiAgY29uc3RydWN0b3Iodmlld1V0aWxzOmltcG9ydDMuVmlld1V0aWxzLHBhcmVudFZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4scGFyZW50SW5kZXg6bnVtYmVyLHBhcmVudEVsZW1lbnQ6YW55KSB7XG4gICAgc3VwZXIoVmlld19Mb2FkaW5nQ29tcG9uZW50X0hvc3QwLHJlbmRlclR5cGVfTG9hZGluZ0NvbXBvbmVudF9Ib3N0LGltcG9ydDYuVmlld1R5cGUuSE9TVCx2aWV3VXRpbHMscGFyZW50VmlldyxwYXJlbnRJbmRleCxwYXJlbnRFbGVtZW50LGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDguQ29tcG9uZW50UmVmPGFueT4ge1xuICAgIHRoaXMuX2VsXzAgPSBpbXBvcnQzLnNlbGVjdE9yQ3JlYXRlUmVuZGVySG9zdEVsZW1lbnQodGhpcy5yZW5kZXJlciwnTG9hZGluZ0NvbXBvbmVudCcsaW1wb3J0My5FTVBUWV9JTkxJTkVfQVJSQVkscm9vdFNlbGVjdG9yLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuY29tcFZpZXdfMCA9IG5ldyBWaWV3X0xvYWRpbmdDb21wb25lbnQwKHRoaXMudmlld1V0aWxzLHRoaXMsMCx0aGlzLl9lbF8wKTtcbiAgICB0aGlzLl9Mb2FkaW5nQ29tcG9uZW50XzBfMyA9IG5ldyBXcmFwcGVyX0xvYWRpbmdDb21wb25lbnQoKTtcbiAgICB0aGlzLmNvbXBWaWV3XzAuY3JlYXRlKHRoaXMuX0xvYWRpbmdDb21wb25lbnRfMF8zLmNvbnRleHQpO1xuICAgIHRoaXMuaW5pdCh0aGlzLl9lbF8wLCgoPGFueT50aGlzLnJlbmRlcmVyKS5kaXJlY3RSZW5kZXJlcj8gKG51bGwgYXMgYW55KTogW3RoaXMuX2VsXzBdKSwobnVsbCBhcyBhbnkpKTtcbiAgICByZXR1cm4gbmV3IGltcG9ydDguQ29tcG9uZW50UmVmXzxhbnk+KDAsdGhpcyx0aGlzLl9lbF8wLHRoaXMuX0xvYWRpbmdDb21wb25lbnRfMF8zLmNvbnRleHQpO1xuICB9XG4gIGluamVjdG9yR2V0SW50ZXJuYWwodG9rZW46YW55LHJlcXVlc3ROb2RlSW5kZXg6bnVtYmVyLG5vdEZvdW5kUmVzdWx0OmFueSk6YW55IHtcbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0MC5Mb2FkaW5nQ29tcG9uZW50KSAmJiAoMCA9PT0gcmVxdWVzdE5vZGVJbmRleCkpKSB7IHJldHVybiB0aGlzLl9Mb2FkaW5nQ29tcG9uZW50XzBfMy5jb250ZXh0OyB9XG4gICAgcmV0dXJuIG5vdEZvdW5kUmVzdWx0O1xuICB9XG4gIGRldGVjdENoYW5nZXNJbnRlcm5hbCh0aHJvd09uQ2hhbmdlOmJvb2xlYW4pOnZvaWQge1xuICAgIHRoaXMuX0xvYWRpbmdDb21wb25lbnRfMF8zLm5nRG9DaGVjayh0aGlzLHRoaXMuX2VsXzAsdGhyb3dPbkNoYW5nZSk7XG4gICAgdGhpcy5jb21wVmlld18wLmRldGVjdENoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gIH1cbiAgZGVzdHJveUludGVybmFsKCk6dm9pZCB7XG4gICAgdGhpcy5jb21wVmlld18wLmRlc3Ryb3koKTtcbiAgfVxuICB2aXNpdFJvb3ROb2Rlc0ludGVybmFsKGNiOmFueSxjdHg6YW55KTp2b2lkIHtcbiAgICBjYih0aGlzLl9lbF8wLGN0eCk7XG4gIH1cbn1cbmV4cG9ydCBjb25zdCBMb2FkaW5nQ29tcG9uZW50TmdGYWN0b3J5OmltcG9ydDguQ29tcG9uZW50RmFjdG9yeTxpbXBvcnQwLkxvYWRpbmdDb21wb25lbnQ+ID0gbmV3IGltcG9ydDguQ29tcG9uZW50RmFjdG9yeTxpbXBvcnQwLkxvYWRpbmdDb21wb25lbnQ+KCdMb2FkaW5nQ29tcG9uZW50JyxWaWV3X0xvYWRpbmdDb21wb25lbnRfSG9zdDAsaW1wb3J0MC5Mb2FkaW5nQ29tcG9uZW50KTtcbmNvbnN0IHN0eWxlc19Mb2FkaW5nQ29tcG9uZW50OmFueVtdID0gKFtdIGFzIGFueVtdKTtcbnZhciByZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnQ6aW1wb3J0NC5SZW5kZXJDb21wb25lbnRUeXBlID0gaW1wb3J0My5jcmVhdGVSZW5kZXJDb21wb25lbnRUeXBlKCcnLDAsaW1wb3J0NS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLHN0eWxlc19Mb2FkaW5nQ29tcG9uZW50LHt9KTtcbmV4cG9ydCBjbGFzcyBWaWV3X0xvYWRpbmdDb21wb25lbnQwIGV4dGVuZHMgaW1wb3J0Mi5BcHBWaWV3PGltcG9ydDAuTG9hZGluZ0NvbXBvbmVudD4ge1xuICBfYW5jaG9yXzA6YW55O1xuICAvKnByaXZhdGUqLyBfdmNfMDppbXBvcnQ5LlZpZXdDb250YWluZXI7XG4gIF9UZW1wbGF0ZVJlZl8wXzU6YW55O1xuICBfTmdJZl8wXzY6aW1wb3J0MTAuV3JhcHBlcl9OZ0lmO1xuICBfdGV4dF8xOmFueTtcbiAgX2FuY2hvcl8yOmFueTtcbiAgLypwcml2YXRlKi8gX3ZjXzI6aW1wb3J0OS5WaWV3Q29udGFpbmVyO1xuICBfVGVtcGxhdGVSZWZfMl81OmFueTtcbiAgX05nVGVtcGxhdGVPdXRsZXRfMl82OmltcG9ydDExLldyYXBwZXJfTmdUZW1wbGF0ZU91dGxldDtcbiAgY29uc3RydWN0b3Iodmlld1V0aWxzOmltcG9ydDMuVmlld1V0aWxzLHBhcmVudFZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4scGFyZW50SW5kZXg6bnVtYmVyLHBhcmVudEVsZW1lbnQ6YW55KSB7XG4gICAgc3VwZXIoVmlld19Mb2FkaW5nQ29tcG9uZW50MCxyZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnQsaW1wb3J0Ni5WaWV3VHlwZS5DT01QT05FTlQsdmlld1V0aWxzLHBhcmVudFZpZXcscGFyZW50SW5kZXgscGFyZW50RWxlbWVudCxpbXBvcnQ3LkNoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrQWx3YXlzKTtcbiAgfVxuICBjcmVhdGVJbnRlcm5hbChyb290U2VsZWN0b3I6c3RyaW5nKTppbXBvcnQ4LkNvbXBvbmVudFJlZjxhbnk+IHtcbiAgICBjb25zdCBwYXJlbnRSZW5kZXJOb2RlOmFueSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVmlld1Jvb3QodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLl9hbmNob3JfMCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVGVtcGxhdGVBbmNob3IocGFyZW50UmVuZGVyTm9kZSwobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl92Y18wID0gbmV3IGltcG9ydDkuVmlld0NvbnRhaW5lcigwLChudWxsIGFzIGFueSksdGhpcyx0aGlzLl9hbmNob3JfMCk7XG4gICAgdGhpcy5fVGVtcGxhdGVSZWZfMF81ID0gbmV3IGltcG9ydDEyLlRlbXBsYXRlUmVmXyh0aGlzLDAsdGhpcy5fYW5jaG9yXzApO1xuICAgIHRoaXMuX05nSWZfMF82ID0gbmV3IGltcG9ydDEwLldyYXBwZXJfTmdJZih0aGlzLl92Y18wLnZjUmVmLHRoaXMuX1RlbXBsYXRlUmVmXzBfNSk7XG4gICAgdGhpcy5fdGV4dF8xID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZXh0KHBhcmVudFJlbmRlck5vZGUsJ1xcbiAgJywobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl9hbmNob3JfMiA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVGVtcGxhdGVBbmNob3IocGFyZW50UmVuZGVyTm9kZSwobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl92Y18yID0gbmV3IGltcG9ydDkuVmlld0NvbnRhaW5lcigyLChudWxsIGFzIGFueSksdGhpcyx0aGlzLl9hbmNob3JfMik7XG4gICAgdGhpcy5fVGVtcGxhdGVSZWZfMl81ID0gbmV3IGltcG9ydDEyLlRlbXBsYXRlUmVmXyh0aGlzLDIsdGhpcy5fYW5jaG9yXzIpO1xuICAgIHRoaXMuX05nVGVtcGxhdGVPdXRsZXRfMl82ID0gbmV3IGltcG9ydDExLldyYXBwZXJfTmdUZW1wbGF0ZU91dGxldCh0aGlzLl92Y18yLnZjUmVmKTtcbiAgICB0aGlzLmluaXQoKG51bGwgYXMgYW55KSwoKDxhbnk+dGhpcy5yZW5kZXJlcikuZGlyZWN0UmVuZGVyZXI/IChudWxsIGFzIGFueSk6IFtcbiAgICAgIHRoaXMuX2FuY2hvcl8wLFxuICAgICAgdGhpcy5fdGV4dF8xLFxuICAgICAgdGhpcy5fYW5jaG9yXzJcbiAgICBdXG4gICAgKSwobnVsbCBhcyBhbnkpKTtcbiAgICByZXR1cm4gKG51bGwgYXMgYW55KTtcbiAgfVxuICBpbmplY3RvckdldEludGVybmFsKHRva2VuOmFueSxyZXF1ZXN0Tm9kZUluZGV4Om51bWJlcixub3RGb3VuZFJlc3VsdDphbnkpOmFueSB7XG4gICAgaWYgKCgodG9rZW4gPT09IGltcG9ydDEyLlRlbXBsYXRlUmVmKSAmJiAoMCA9PT0gcmVxdWVzdE5vZGVJbmRleCkpKSB7IHJldHVybiB0aGlzLl9UZW1wbGF0ZVJlZl8wXzU7IH1cbiAgICBpZiAoKCh0b2tlbiA9PT0gaW1wb3J0MTMuTmdJZikgJiYgKDAgPT09IHJlcXVlc3ROb2RlSW5kZXgpKSkgeyByZXR1cm4gdGhpcy5fTmdJZl8wXzYuY29udGV4dDsgfVxuICAgIGlmICgoKHRva2VuID09PSBpbXBvcnQxMi5UZW1wbGF0ZVJlZikgJiYgKDIgPT09IHJlcXVlc3ROb2RlSW5kZXgpKSkgeyByZXR1cm4gdGhpcy5fVGVtcGxhdGVSZWZfMl81OyB9XG4gICAgaWYgKCgodG9rZW4gPT09IGltcG9ydDE0Lk5nVGVtcGxhdGVPdXRsZXQpICYmICgyID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX05nVGVtcGxhdGVPdXRsZXRfMl82LmNvbnRleHQ7IH1cbiAgICByZXR1cm4gbm90Rm91bmRSZXN1bHQ7XG4gIH1cbiAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRocm93T25DaGFuZ2U6Ym9vbGVhbik6dm9pZCB7XG4gICAgY29uc3QgY3VyclZhbF8wXzBfMDpib29sZWFuID0gIXRoaXMuY29udGV4dC5sb2FkaW5nVGVtcGxhdGU7XG4gICAgdGhpcy5fTmdJZl8wXzYuY2hlY2tfbmdJZihjdXJyVmFsXzBfMF8wLHRocm93T25DaGFuZ2UsZmFsc2UpO1xuICAgIHRoaXMuX05nSWZfMF82Lm5nRG9DaGVjayh0aGlzLHRoaXMuX2FuY2hvcl8wLHRocm93T25DaGFuZ2UpO1xuICAgIGNvbnN0IGN1cnJWYWxfMl8wXzA6YW55ID0gdGhpcy5jb250ZXh0LmxvYWRpbmdUZW1wbGF0ZTtcbiAgICB0aGlzLl9OZ1RlbXBsYXRlT3V0bGV0XzJfNi5jaGVja19uZ1RlbXBsYXRlT3V0bGV0KGN1cnJWYWxfMl8wXzAsdGhyb3dPbkNoYW5nZSxmYWxzZSk7XG4gICAgdGhpcy5fTmdUZW1wbGF0ZU91dGxldF8yXzYubmdEb0NoZWNrKHRoaXMsdGhpcy5fYW5jaG9yXzIsdGhyb3dPbkNoYW5nZSk7XG4gICAgdGhpcy5fdmNfMC5kZXRlY3RDaGFuZ2VzSW5OZXN0ZWRWaWV3cyh0aHJvd09uQ2hhbmdlKTtcbiAgICB0aGlzLl92Y18yLmRldGVjdENoYW5nZXNJbk5lc3RlZFZpZXdzKHRocm93T25DaGFuZ2UpO1xuICB9XG4gIGRlc3Ryb3lJbnRlcm5hbCgpOnZvaWQge1xuICAgIHRoaXMuX3ZjXzAuZGVzdHJveU5lc3RlZFZpZXdzKCk7XG4gICAgdGhpcy5fdmNfMi5kZXN0cm95TmVzdGVkVmlld3MoKTtcbiAgfVxuICBjcmVhdGVFbWJlZGRlZFZpZXdJbnRlcm5hbChub2RlSW5kZXg6bnVtYmVyKTppbXBvcnQyLkFwcFZpZXc8YW55PiB7XG4gICAgaWYgKChub2RlSW5kZXggPT0gMCkpIHsgcmV0dXJuIG5ldyBWaWV3X0xvYWRpbmdDb21wb25lbnQxKHRoaXMudmlld1V0aWxzLHRoaXMsMCx0aGlzLl9hbmNob3JfMCx0aGlzLl92Y18wKTsgfVxuICAgIGlmICgobm9kZUluZGV4ID09IDIpKSB7IHJldHVybiBuZXcgVmlld19Mb2FkaW5nQ29tcG9uZW50Mih0aGlzLnZpZXdVdGlscyx0aGlzLDIsdGhpcy5fYW5jaG9yXzIsdGhpcy5fdmNfMik7IH1cbiAgICByZXR1cm4gKG51bGwgYXMgYW55KTtcbiAgfVxufVxuY2xhc3MgVmlld19Mb2FkaW5nQ29tcG9uZW50MSBleHRlbmRzIGltcG9ydDIuQXBwVmlldzxhbnk+IHtcbiAgX2VsXzA6YW55O1xuICBfdGV4dF8xOmFueTtcbiAgY29uc3RydWN0b3Iodmlld1V0aWxzOmltcG9ydDMuVmlld1V0aWxzLHBhcmVudFZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4scGFyZW50SW5kZXg6bnVtYmVyLHBhcmVudEVsZW1lbnQ6YW55LGRlY2xhcmVkVmlld0NvbnRhaW5lcjppbXBvcnQ5LlZpZXdDb250YWluZXIpIHtcbiAgICBzdXBlcihWaWV3X0xvYWRpbmdDb21wb25lbnQxLHJlbmRlclR5cGVfTG9hZGluZ0NvbXBvbmVudCxpbXBvcnQ2LlZpZXdUeXBlLkVNQkVEREVELHZpZXdVdGlscyxwYXJlbnRWaWV3LHBhcmVudEluZGV4LHBhcmVudEVsZW1lbnQsaW1wb3J0Ny5DaGFuZ2VEZXRlY3RvclN0YXR1cy5DaGVja0Fsd2F5cyxkZWNsYXJlZFZpZXdDb250YWluZXIpO1xuICB9XG4gIGNyZWF0ZUludGVybmFsKHJvb3RTZWxlY3RvcjpzdHJpbmcpOmltcG9ydDguQ29tcG9uZW50UmVmPGFueT4ge1xuICAgIHRoaXMuX2VsXzAgPSBpbXBvcnQzLmNyZWF0ZVJlbmRlckVsZW1lbnQodGhpcy5yZW5kZXJlciwobnVsbCBhcyBhbnkpLCdzcGFuJyxpbXBvcnQzLkVNUFRZX0lOTElORV9BUlJBWSwobnVsbCBhcyBhbnkpKTtcbiAgICB0aGlzLl90ZXh0XzEgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy5fZWxfMCwnbG9hZGluZy4uLicsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5pbml0KHRoaXMuX2VsXzAsKCg8YW55PnRoaXMucmVuZGVyZXIpLmRpcmVjdFJlbmRlcmVyPyAobnVsbCBhcyBhbnkpOiBbXG4gICAgICB0aGlzLl9lbF8wLFxuICAgICAgdGhpcy5fdGV4dF8xXG4gICAgXVxuICAgICksKG51bGwgYXMgYW55KSk7XG4gICAgcmV0dXJuIChudWxsIGFzIGFueSk7XG4gIH1cbiAgdmlzaXRSb290Tm9kZXNJbnRlcm5hbChjYjphbnksY3R4OmFueSk6dm9pZCB7XG4gICAgY2IodGhpcy5fZWxfMCxjdHgpO1xuICB9XG59XG5jbGFzcyBWaWV3X0xvYWRpbmdDb21wb25lbnQyIGV4dGVuZHMgaW1wb3J0Mi5BcHBWaWV3PGFueT4ge1xuICBfZWxfMDphbnk7XG4gIGNvbnN0cnVjdG9yKHZpZXdVdGlsczppbXBvcnQzLlZpZXdVdGlscyxwYXJlbnRWaWV3OmltcG9ydDIuQXBwVmlldzxhbnk+LHBhcmVudEluZGV4Om51bWJlcixwYXJlbnRFbGVtZW50OmFueSxkZWNsYXJlZFZpZXdDb250YWluZXI6aW1wb3J0OS5WaWV3Q29udGFpbmVyKSB7XG4gICAgc3VwZXIoVmlld19Mb2FkaW5nQ29tcG9uZW50MixyZW5kZXJUeXBlX0xvYWRpbmdDb21wb25lbnQsaW1wb3J0Ni5WaWV3VHlwZS5FTUJFRERFRCx2aWV3VXRpbHMscGFyZW50VmlldyxwYXJlbnRJbmRleCxwYXJlbnRFbGVtZW50LGltcG9ydDcuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tBbHdheXMsZGVjbGFyZWRWaWV3Q29udGFpbmVyKTtcbiAgfVxuICBjcmVhdGVJbnRlcm5hbChyb290U2VsZWN0b3I6c3RyaW5nKTppbXBvcnQ4LkNvbXBvbmVudFJlZjxhbnk+IHtcbiAgICB0aGlzLl9lbF8wID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZW1wbGF0ZUFuY2hvcigobnVsbCBhcyBhbnkpLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuaW5pdCh0aGlzLl9lbF8wLCgoPGFueT50aGlzLnJlbmRlcmVyKS5kaXJlY3RSZW5kZXJlcj8gKG51bGwgYXMgYW55KTogKFtdIGFzIGFueVtdKSksKG51bGwgYXMgYW55KSk7XG4gICAgcmV0dXJuIChudWxsIGFzIGFueSk7XG4gIH1cbiAgdmlzaXRSb290Tm9kZXNJbnRlcm5hbChjYjphbnksY3R4OmFueSk6dm9pZCB7XG4gICAgY2IodGhpcy5fZWxfMCxjdHgpO1xuICB9XG59Il19