/**
 * @fileoverview This file is generated by the Angular 2 template compiler.
 * Do not edit.
 * @suppress {suspiciousCode,uselessCode,missingProperties}
 */
/* tslint:disable */
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var import0 = require('../../../lib/components/tree-node-drop-slot.component');
var import1 = require('@angular/core/src/change_detection/change_detection_util');
var import2 = require('@angular/core/src/linker/view');
var import3 = require('@angular/core/src/linker/view_utils');
var import5 = require('@angular/core/src/metadata/view');
var import6 = require('@angular/core/src/linker/view_type');
var import7 = require('@angular/core/src/change_detection/constants');
var import8 = require('@angular/core/src/linker/component_factory');
var Wrapper_TreeNodeDropSlot = (function () {
    function Wrapper_TreeNodeDropSlot() {
        this._changed = false;
        this.context = new import0.TreeNodeDropSlot();
        this._expr_0 = import1.UNINITIALIZED;
        this._expr_1 = import1.UNINITIALIZED;
    }
    Wrapper_TreeNodeDropSlot.prototype.ngOnDetach = function (view, componentView, el) {
    };
    Wrapper_TreeNodeDropSlot.prototype.ngOnDestroy = function () {
    };
    Wrapper_TreeNodeDropSlot.prototype.check_node = function (currValue, throwOnChange, forceUpdate) {
        if ((forceUpdate || import3.checkBinding(throwOnChange, this._expr_0, currValue))) {
            this._changed = true;
            this.context.node = currValue;
            this._expr_0 = currValue;
        }
    };
    Wrapper_TreeNodeDropSlot.prototype.check_dropIndex = function (currValue, throwOnChange, forceUpdate) {
        if ((forceUpdate || import3.checkBinding(throwOnChange, this._expr_1, currValue))) {
            this._changed = true;
            this.context.dropIndex = currValue;
            this._expr_1 = currValue;
        }
    };
    Wrapper_TreeNodeDropSlot.prototype.ngDoCheck = function (view, el, throwOnChange) {
        var changed = this._changed;
        this._changed = false;
        return changed;
    };
    Wrapper_TreeNodeDropSlot.prototype.checkHost = function (view, componentView, el, throwOnChange) {
    };
    Wrapper_TreeNodeDropSlot.prototype.handleEvent = function (eventName, $event) {
        var result = true;
        return result;
    };
    Wrapper_TreeNodeDropSlot.prototype.subscribe = function (view, _eventHandler) {
        this._eventHandler = _eventHandler;
    };
    return Wrapper_TreeNodeDropSlot;
}());
exports.Wrapper_TreeNodeDropSlot = Wrapper_TreeNodeDropSlot;
var renderType_TreeNodeDropSlot_Host = import3.createRenderComponentType('', 0, import5.ViewEncapsulation.None, [], {});
var View_TreeNodeDropSlot_Host0 = (function (_super) {
    __extends(View_TreeNodeDropSlot_Host0, _super);
    function View_TreeNodeDropSlot_Host0(viewUtils, parentView, parentIndex, parentElement) {
        _super.call(this, View_TreeNodeDropSlot_Host0, renderType_TreeNodeDropSlot_Host, import6.ViewType.HOST, viewUtils, parentView, parentIndex, parentElement, import7.ChangeDetectorStatus.CheckAlways);
    }
    View_TreeNodeDropSlot_Host0.prototype.createInternal = function (rootSelector) {
        this._el_0 = import3.selectOrCreateRenderHostElement(this.renderer, 'TreeNodeDropSlot', import3.EMPTY_INLINE_ARRAY, rootSelector, null);
        this.compView_0 = new View_TreeNodeDropSlot0(this.viewUtils, this, 0, this._el_0);
        this._TreeNodeDropSlot_0_3 = new Wrapper_TreeNodeDropSlot();
        this.compView_0.create(this._TreeNodeDropSlot_0_3.context);
        this.init(this._el_0, (this.renderer.directRenderer ? null : [this._el_0]), null);
        return new import8.ComponentRef_(0, this, this._el_0, this._TreeNodeDropSlot_0_3.context);
    };
    View_TreeNodeDropSlot_Host0.prototype.injectorGetInternal = function (token, requestNodeIndex, notFoundResult) {
        if (((token === import0.TreeNodeDropSlot) && (0 === requestNodeIndex))) {
            return this._TreeNodeDropSlot_0_3.context;
        }
        return notFoundResult;
    };
    View_TreeNodeDropSlot_Host0.prototype.detectChangesInternal = function (throwOnChange) {
        this._TreeNodeDropSlot_0_3.ngDoCheck(this, this._el_0, throwOnChange);
        this.compView_0.detectChanges(throwOnChange);
    };
    View_TreeNodeDropSlot_Host0.prototype.destroyInternal = function () {
        this.compView_0.destroy();
    };
    View_TreeNodeDropSlot_Host0.prototype.visitRootNodesInternal = function (cb, ctx) {
        cb(this._el_0, ctx);
    };
    return View_TreeNodeDropSlot_Host0;
}(import2.AppView));
exports.TreeNodeDropSlotNgFactory = new import8.ComponentFactory('TreeNodeDropSlot', View_TreeNodeDropSlot_Host0, import0.TreeNodeDropSlot);
var styles_TreeNodeDropSlot = [
    '.node-drop-slot { display: block; height: 2px; width: 100%}',
    '.node-drop-slot.is-dragging-over { background: #ddffee; height: 20px; border: 2px dotted #888; }'
];
var renderType_TreeNodeDropSlot = import3.createRenderComponentType('', 0, import5.ViewEncapsulation.None, styles_TreeNodeDropSlot, {});
var View_TreeNodeDropSlot0 = (function (_super) {
    __extends(View_TreeNodeDropSlot0, _super);
    function View_TreeNodeDropSlot0(viewUtils, parentView, parentIndex, parentElement) {
        _super.call(this, View_TreeNodeDropSlot0, renderType_TreeNodeDropSlot, import6.ViewType.COMPONENT, viewUtils, parentView, parentIndex, parentElement, import7.ChangeDetectorStatus.CheckAlways);
        this._expr_4 = import1.UNINITIALIZED;
    }
    View_TreeNodeDropSlot0.prototype.createInternal = function (rootSelector) {
        var parentRenderNode = this.renderer.createViewRoot(this.parentElement);
        this._text_0 = this.renderer.createText(parentRenderNode, '\n    ', null);
        this._el_1 = import3.createRenderElement(this.renderer, parentRenderNode, 'div', new import3.InlineArray2(2, 'class', 'node-drop-slot'), null);
        this._text_2 = this.renderer.createText(this._el_1, '\n    ', null);
        this._text_3 = this.renderer.createText(parentRenderNode, '\n  ', null);
        var disposable_0 = import3.subscribeToRenderElement(this, this._el_1, new import3.InlineArray8(6, 'drop', null, 'dragover', null, 'dragleave', null), this.eventHandler(this.handleEvent_1));
        this.init(null, (this.renderer.directRenderer ? null : [
            this._text_0,
            this._el_1,
            this._text_2,
            this._text_3
        ]), [disposable_0]);
        return null;
    };
    View_TreeNodeDropSlot0.prototype.detectChangesInternal = function (throwOnChange) {
        var currVal_4 = this.context.node.treeModel.isDraggingOver(this.context);
        if (import3.checkBinding(throwOnChange, this._expr_4, currVal_4)) {
            this.renderer.setElementClass(this._el_1, 'is-dragging-over', currVal_4);
            this._expr_4 = currVal_4;
        }
    };
    View_TreeNodeDropSlot0.prototype.handleEvent_1 = function (eventName, $event) {
        this.markPathToRootAsCheckOnce();
        var result = true;
        if ((eventName == 'drop')) {
            var pd_sub_0 = (this.context.onDrop($event) !== false);
            result = (pd_sub_0 && result);
        }
        if ((eventName == 'dragover')) {
            var pd_sub_1 = (this.context.onDragOver($event) !== false);
            result = (pd_sub_1 && result);
        }
        if ((eventName == 'dragleave')) {
            var pd_sub_2 = (this.context.onDragLeave() !== false);
            result = (pd_sub_2 && result);
        }
        return result;
    };
    return View_TreeNodeDropSlot0;
}(import2.AppView));
exports.View_TreeNodeDropSlot0 = View_TreeNodeDropSlot0;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS1ub2RlLWRyb3Atc2xvdC5jb21wb25lbnQubmdmYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29tcGlsZWQvbGliL2NvbXBvbmVudHMvdHJlZS1ub2RlLWRyb3Atc2xvdC5jb21wb25lbnQubmdmYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDRixvQkFBb0I7Ozs7Ozs7QUFFckIsSUFBWSxPQUFPLFdBQU0sdURBQXVELENBQUMsQ0FBQTtBQUNqRixJQUFZLE9BQU8sV0FBTSwwREFBMEQsQ0FBQyxDQUFBO0FBQ3BGLElBQVksT0FBTyxXQUFNLCtCQUErQixDQUFDLENBQUE7QUFDekQsSUFBWSxPQUFPLFdBQU0scUNBQXFDLENBQUMsQ0FBQTtBQUUvRCxJQUFZLE9BQU8sV0FBTSxpQ0FBaUMsQ0FBQyxDQUFBO0FBQzNELElBQVksT0FBTyxXQUFNLG9DQUFvQyxDQUFDLENBQUE7QUFDOUQsSUFBWSxPQUFPLFdBQU0sOENBQThDLENBQUMsQ0FBQTtBQUN4RSxJQUFZLE9BQU8sV0FBTSw0Q0FBNEMsQ0FBQyxDQUFBO0FBQ3RFO0lBTUU7UUFDRSxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBQ0QsNkNBQVUsR0FBVixVQUFXLElBQXlCLEVBQUMsYUFBa0MsRUFBQyxFQUFNO0lBQzlFLENBQUM7SUFDRCw4Q0FBVyxHQUFYO0lBQ0EsQ0FBQztJQUNELDZDQUFVLEdBQVYsVUFBVyxTQUFhLEVBQUMsYUFBcUIsRUFBQyxXQUFtQjtRQUNoRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFdB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bERZLDhCQUFzQix5QkFrRGxDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSB0aGUgQW5ndWxhciAyIHRlbXBsYXRlIGNvbXBpbGVyLlxuICogRG8gbm90IGVkaXQuXG4gKiBAc3VwcHJlc3Mge3N1c3BpY2lvdXNDb2RlLHVzZWxlc3NDb2RlLG1pc3NpbmdQcm9wZXJ0aWVzfVxuICovXG4gLyogdHNsaW50OmRpc2FibGUgKi9cblxuaW1wb3J0ICogYXMgaW1wb3J0MCBmcm9tICcuLi8uLi8uLi9saWIvY29tcG9uZW50cy90cmVlLW5vZGUtZHJvcC1zbG90LmNvbXBvbmVudCc7XG5pbXBvcnQgKiBhcyBpbXBvcnQxIGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2NoYW5nZV9kZXRlY3Rpb24vY2hhbmdlX2RldGVjdGlvbl91dGlsJztcbmltcG9ydCAqIGFzIGltcG9ydDIgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL3ZpZXcnO1xuaW1wb3J0ICogYXMgaW1wb3J0MyBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdmlld191dGlscyc7XG5pbXBvcnQgKiBhcyBpbXBvcnQ0IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL3JlbmRlci9hcGknO1xuaW1wb3J0ICogYXMgaW1wb3J0NSBmcm9tICdAYW5ndWxhci9jb3JlL3NyYy9tZXRhZGF0YS92aWV3JztcbmltcG9ydCAqIGFzIGltcG9ydDYgZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL3ZpZXdfdHlwZSc7XG5pbXBvcnQgKiBhcyBpbXBvcnQ3IGZyb20gJ0Bhbmd1bGFyL2NvcmUvc3JjL2NoYW5nZV9kZXRlY3Rpb24vY29uc3RhbnRzJztcbmltcG9ydCAqIGFzIGltcG9ydDggZnJvbSAnQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL2NvbXBvbmVudF9mYWN0b3J5JztcbmV4cG9ydCBjbGFzcyBXcmFwcGVyX1RyZWVOb2RlRHJvcFNsb3Qge1xuICAvKnByaXZhdGUqLyBfZXZlbnRIYW5kbGVyOkZ1bmN0aW9uO1xuICBjb250ZXh0OmltcG9ydDAuVHJlZU5vZGVEcm9wU2xvdDtcbiAgLypwcml2YXRlKi8gX2NoYW5nZWQ6Ym9vbGVhbjtcbiAgLypwcml2YXRlKi8gX2V4cHJfMDphbnk7XG4gIC8qcHJpdmF0ZSovIF9leHByXzE6YW55O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9jaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5jb250ZXh0ID0gbmV3IGltcG9ydDAuVHJlZU5vZGVEcm9wU2xvdCgpO1xuICAgIHRoaXMuX2V4cHJfMCA9IGltcG9ydDEuVU5JTklUSUFMSVpFRDtcbiAgICB0aGlzLl9leHByXzEgPSBpbXBvcnQxLlVOSU5JVElBTElaRUQ7XG4gIH1cbiAgbmdPbkRldGFjaCh2aWV3OmltcG9ydDIuQXBwVmlldzxhbnk+LGNvbXBvbmVudFZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4sZWw6YW55KTp2b2lkIHtcbiAgfVxuICBuZ09uRGVzdHJveSgpOnZvaWQge1xuICB9XG4gIGNoZWNrX25vZGUoY3VyclZhbHVlOmFueSx0aHJvd09uQ2hhbmdlOmJvb2xlYW4sZm9yY2VVcGRhdGU6Ym9vbGVhbik6dm9pZCB7XG4gICAgaWYgKChmb3JjZVVwZGF0ZSB8fCBpbXBvcnQzLmNoZWNrQmluZGluZyh0aHJvd09uQ2hhbmdlLHRoaXMuX2V4cHJfMCxjdXJyVmFsdWUpKSkge1xuICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICB0aGlzLmNvbnRleHQubm9kZSA9IGN1cnJWYWx1ZTtcbiAgICAgIHRoaXMuX2V4cHJfMCA9IGN1cnJWYWx1ZTtcbiAgICB9XG4gIH1cbiAgY2hlY2tfZHJvcEluZGV4KGN1cnJWYWx1ZTphbnksdGhyb3dPbkNoYW5nZTpib29sZWFuLGZvcmNlVXBkYXRlOmJvb2xlYW4pOnZvaWQge1xuICAgIGlmICgoZm9yY2VVcGRhdGUgfHwgaW1wb3J0My5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzEsY3VyclZhbHVlKSkpIHtcbiAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgICAgdGhpcy5jb250ZXh0LmRyb3BJbmRleCA9IGN1cnJWYWx1ZTtcbiAgICAgIHRoaXMuX2V4cHJfMSA9IGN1cnJWYWx1ZTtcbiAgICB9XG4gIH1cbiAgbmdEb0NoZWNrKHZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4sZWw6YW55LHRocm93T25DaGFuZ2U6Ym9vbGVhbik6Ym9vbGVhbiB7XG4gICAgdmFyIGNoYW5nZWQ6YW55ID0gdGhpcy5fY2hhbmdlZDtcbiAgICB0aGlzLl9jaGFuZ2VkID0gZmFsc2U7XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG4gIH1cbiAgY2hlY2tIb3N0KHZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4sY29tcG9uZW50VmlldzppbXBvcnQyLkFwcFZpZXc8YW55PixlbDphbnksdGhyb3dPbkNoYW5nZTpib29sZWFuKTp2b2lkIHtcbiAgfVxuICBoYW5kbGVFdmVudChldmVudE5hbWU6c3RyaW5nLCRldmVudDphbnkpOmJvb2xlYW4ge1xuICAgIHZhciByZXN1bHQ6Ym9vbGVhbiA9IHRydWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBzdWJzY3JpYmUodmlldzppbXBvcnQyLkFwcFZpZXc8YW55PixfZXZlbnRIYW5kbGVyOmFueSk6dm9pZCB7XG4gICAgdGhpcy5fZXZlbnRIYW5kbGVyID0gX2V2ZW50SGFuZGxlcjtcbiAgfVxufVxudmFyIHJlbmRlclR5cGVfVHJlZU5vZGVEcm9wU2xvdF9Ib3N0OmltcG9ydDQuUmVuZGVyQ29tcG9uZW50VHlwZSA9IGltcG9ydDMuY3JlYXRlUmVuZGVyQ29tcG9uZW50VHlwZSgnJywwLGltcG9ydDUuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSwoW10gYXMgYW55W10pLHt9KTtcbmNsYXNzIFZpZXdfVHJlZU5vZGVEcm9wU2xvdF9Ib3N0MCBleHRlbmRzIGltcG9ydDIuQXBwVmlldzxhbnk+IHtcbiAgX2VsXzA6YW55O1xuICBjb21wVmlld18wOmltcG9ydDIuQXBwVmlldzxpbXBvcnQwLlRyZWVOb2RlRHJvcFNsb3Q+O1xuICBfVHJlZU5vZGVEcm9wU2xvdF8wXzM6V3JhcHBlcl9UcmVlTm9kZURyb3BTbG90O1xuICBjb25zdHJ1Y3Rvcih2aWV3VXRpbHM6aW1wb3J0My5WaWV3VXRpbHMscGFyZW50VmlldzppbXBvcnQyLkFwcFZpZXc8YW55PixwYXJlbnRJbmRleDpudW1iZXIscGFyZW50RWxlbWVudDphbnkpIHtcbiAgICBzdXBlcihWaWV3X1RyZWVOb2RlRHJvcFNsb3RfSG9zdDAscmVuZGVyVHlwZV9UcmVlTm9kZURyb3BTbG90X0hvc3QsaW1wb3J0Ni5WaWV3VHlwZS5IT1NULHZpZXdVdGlscyxwYXJlbnRWaWV3LHBhcmVudEluZGV4LHBhcmVudEVsZW1lbnQsaW1wb3J0Ny5DaGFuZ2VEZXRlY3RvclN0YXR1cy5DaGVja0Fsd2F5cyk7XG4gIH1cbiAgY3JlYXRlSW50ZXJuYWwocm9vdFNlbGVjdG9yOnN0cmluZyk6aW1wb3J0OC5Db21wb25lbnRSZWY8YW55PiB7XG4gICAgdGhpcy5fZWxfMCA9IGltcG9ydDMuc2VsZWN0T3JDcmVhdGVSZW5kZXJIb3N0RWxlbWVudCh0aGlzLnJlbmRlcmVyLCdUcmVlTm9kZURyb3BTbG90JyxpbXBvcnQzLkVNUFRZX0lOTElORV9BUlJBWSxyb290U2VsZWN0b3IsKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5jb21wVmlld18wID0gbmV3IFZpZXdfVHJlZU5vZGVEcm9wU2xvdDAodGhpcy52aWV3VXRpbHMsdGhpcywwLHRoaXMuX2VsXzApO1xuICAgIHRoaXMuX1RyZWVOb2RlRHJvcFNsb3RfMF8zID0gbmV3IFdyYXBwZXJfVHJlZU5vZGVEcm9wU2xvdCgpO1xuICAgIHRoaXMuY29tcFZpZXdfMC5jcmVhdGUodGhpcy5fVHJlZU5vZGVEcm9wU2xvdF8wXzMuY29udGV4dCk7XG4gICAgdGhpcy5pbml0KHRoaXMuX2VsXzAsKCg8YW55PnRoaXMucmVuZGVyZXIpLmRpcmVjdFJlbmRlcmVyPyAobnVsbCBhcyBhbnkpOiBbdGhpcy5fZWxfMF0pLChudWxsIGFzIGFueSkpO1xuICAgIHJldHVybiBuZXcgaW1wb3J0OC5Db21wb25lbnRSZWZfPGFueT4oMCx0aGlzLHRoaXMuX2VsXzAsdGhpcy5fVHJlZU5vZGVEcm9wU2xvdF8wXzMuY29udGV4dCk7XG4gIH1cbiAgaW5qZWN0b3JHZXRJbnRlcm5hbCh0b2tlbjphbnkscmVxdWVzdE5vZGVJbmRleDpudW1iZXIsbm90Rm91bmRSZXN1bHQ6YW55KTphbnkge1xuICAgIGlmICgoKHRva2VuID09PSBpbXBvcnQwLlRyZWVOb2RlRHJvcFNsb3QpICYmICgwID09PSByZXF1ZXN0Tm9kZUluZGV4KSkpIHsgcmV0dXJuIHRoaXMuX1RyZWVOb2RlRHJvcFNsb3RfMF8zLmNvbnRleHQ7IH1cbiAgICByZXR1cm4gbm90Rm91bmRSZXN1bHQ7XG4gIH1cbiAgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRocm93T25DaGFuZ2U6Ym9vbGVhbik6dm9pZCB7XG4gICAgdGhpcy5fVHJlZU5vZGVEcm9wU2xvdF8wXzMubmdEb0NoZWNrKHRoaXMsdGhpcy5fZWxfMCx0aHJvd09uQ2hhbmdlKTtcbiAgICB0aGlzLmNvbXBWaWV3XzAuZGV0ZWN0Q2hhbmdlcyh0aHJvd09uQ2hhbmdlKTtcbiAgfVxuICBkZXN0cm95SW50ZXJuYWwoKTp2b2lkIHtcbiAgICB0aGlzLmNvbXBWaWV3XzAuZGVzdHJveSgpO1xuICB9XG4gIHZpc2l0Um9vdE5vZGVzSW50ZXJuYWwoY2I6YW55LGN0eDphbnkpOnZvaWQge1xuICAgIGNiKHRoaXMuX2VsXzAsY3R4KTtcbiAgfVxufVxuZXhwb3J0IGNvbnN0IFRyZWVOb2RlRHJvcFNsb3ROZ0ZhY3Rvcnk6aW1wb3J0OC5Db21wb25lbnRGYWN0b3J5PGltcG9ydDAuVHJlZU5vZGVEcm9wU2xvdD4gPSBuZXcgaW1wb3J0OC5Db21wb25lbnRGYWN0b3J5PGltcG9ydDAuVHJlZU5vZGVEcm9wU2xvdD4oJ1RyZWVOb2RlRHJvcFNsb3QnLFZpZXdfVHJlZU5vZGVEcm9wU2xvdF9Ib3N0MCxpbXBvcnQwLlRyZWVOb2RlRHJvcFNsb3QpO1xuY29uc3Qgc3R5bGVzX1RyZWVOb2RlRHJvcFNsb3Q6YW55W10gPSBbXG4gICcubm9kZS1kcm9wLXNsb3QgeyBkaXNwbGF5OiBibG9jazsgaGVpZ2h0OiAycHg7IHdpZHRoOiAxMDAlfScsXG4gICcubm9kZS1kcm9wLXNsb3QuaXMtZHJhZ2dpbmctb3ZlciB7IGJhY2tncm91bmQ6ICNkZGZmZWU7IGhlaWdodDogMjBweDsgYm9yZGVyOiAycHggZG90dGVkICM4ODg7IH0nXG5dXG47XG52YXIgcmVuZGVyVHlwZV9UcmVlTm9kZURyb3BTbG90OmltcG9ydDQuUmVuZGVyQ29tcG9uZW50VHlwZSA9IGltcG9ydDMuY3JlYXRlUmVuZGVyQ29tcG9uZW50VHlwZSgnJywwLGltcG9ydDUuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxzdHlsZXNfVHJlZU5vZGVEcm9wU2xvdCx7fSk7XG5leHBvcnQgY2xhc3MgVmlld19UcmVlTm9kZURyb3BTbG90MCBleHRlbmRzIGltcG9ydDIuQXBwVmlldzxpbXBvcnQwLlRyZWVOb2RlRHJvcFNsb3Q+IHtcbiAgX3RleHRfMDphbnk7XG4gIF9lbF8xOmFueTtcbiAgX3RleHRfMjphbnk7XG4gIF90ZXh0XzM6YW55O1xuICAvKnByaXZhdGUqLyBfZXhwcl80OmFueTtcbiAgY29uc3RydWN0b3Iodmlld1V0aWxzOmltcG9ydDMuVmlld1V0aWxzLHBhcmVudFZpZXc6aW1wb3J0Mi5BcHBWaWV3PGFueT4scGFyZW50SW5kZXg6bnVtYmVyLHBhcmVudEVsZW1lbnQ6YW55KSB7XG4gICAgc3VwZXIoVmlld19UcmVlTm9kZURyb3BTbG90MCxyZW5kZXJUeXBlX1RyZWVOb2RlRHJvcFNsb3QsaW1wb3J0Ni5WaWV3VHlwZS5DT01QT05FTlQsdmlld1V0aWxzLHBhcmVudFZpZXcscGFyZW50SW5kZXgscGFyZW50RWxlbWVudCxpbXBvcnQ3LkNoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrQWx3YXlzKTtcbiAgICB0aGlzLl9leHByXzQgPSBpbXBvcnQxLlVOSU5JVElBTElaRUQ7XG4gIH1cbiAgY3JlYXRlSW50ZXJuYWwocm9vdFNlbGVjdG9yOnN0cmluZyk6aW1wb3J0OC5Db21wb25lbnRSZWY8YW55PiB7XG4gICAgY29uc3QgcGFyZW50UmVuZGVyTm9kZTphbnkgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZpZXdSb290KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5fdGV4dF8wID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZXh0KHBhcmVudFJlbmRlck5vZGUsJ1xcbiAgICAnLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX2VsXzEgPSBpbXBvcnQzLmNyZWF0ZVJlbmRlckVsZW1lbnQodGhpcy5yZW5kZXJlcixwYXJlbnRSZW5kZXJOb2RlLCdkaXYnLG5ldyBpbXBvcnQzLklubGluZUFycmF5MigyLCdjbGFzcycsJ25vZGUtZHJvcC1zbG90JyksKG51bGwgYXMgYW55KSk7XG4gICAgdGhpcy5fdGV4dF8yID0gdGhpcy5yZW5kZXJlci5jcmVhdGVUZXh0KHRoaXMuX2VsXzEsJ1xcbiAgICAnLChudWxsIGFzIGFueSkpO1xuICAgIHRoaXMuX3RleHRfMyA9IHRoaXMucmVuZGVyZXIuY3JlYXRlVGV4dChwYXJlbnRSZW5kZXJOb2RlLCdcXG4gICcsKG51bGwgYXMgYW55KSk7XG4gICAgdmFyIGRpc3Bvc2FibGVfMDpGdW5jdGlvbiA9IGltcG9ydDMuc3Vic2NyaWJlVG9SZW5kZXJFbGVtZW50KHRoaXMsdGhpcy5fZWxfMSxuZXcgaW1wb3J0My5JbmxpbmVBcnJheTgoNiwnZHJvcCcsKG51bGwgYXMgYW55KSwnZHJhZ292ZXInLChudWxsIGFzIGFueSksJ2RyYWdsZWF2ZScsKG51bGwgYXMgYW55KSksdGhpcy5ldmVudEhhbmRsZXIodGhpcy5oYW5kbGVFdmVudF8xKSk7XG4gICAgdGhpcy5pbml0KChudWxsIGFzIGFueSksKCg8YW55PnRoaXMucmVuZGVyZXIpLmRpcmVjdFJlbmRlcmVyPyAobnVsbCBhcyBhbnkpOiBbXG4gICAgICB0aGlzLl90ZXh0XzAsXG4gICAgICB0aGlzLl9lbF8xLFxuICAgICAgdGhpcy5fdGV4dF8yLFxuICAgICAgdGhpcy5fdGV4dF8zXG4gICAgXVxuICAgICksW2Rpc3Bvc2FibGVfMF0pO1xuICAgIHJldHVybiAobnVsbCBhcyBhbnkpO1xuICB9XG4gIGRldGVjdENoYW5nZXNJbnRlcm5hbCh0aHJvd09uQ2hhbmdlOmJvb2xlYW4pOnZvaWQge1xuICAgIGNvbnN0IGN1cnJWYWxfNDphbnkgPSB0aGlzLmNvbnRleHQubm9kZS50cmVlTW9kZWwuaXNEcmFnZ2luZ092ZXIodGhpcy5jb250ZXh0KTtcbiAgICBpZiAoaW1wb3J0My5jaGVja0JpbmRpbmcodGhyb3dPbkNoYW5nZSx0aGlzLl9leHByXzQsY3VyclZhbF80KSkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3ModGhpcy5fZWxfMSwnaXMtZHJhZ2dpbmctb3ZlcicsY3VyclZhbF80KTtcbiAgICAgIHRoaXMuX2V4cHJfNCA9IGN1cnJWYWxfNDtcbiAgICB9XG4gIH1cbiAgaGFuZGxlRXZlbnRfMShldmVudE5hbWU6c3RyaW5nLCRldmVudDphbnkpOmJvb2xlYW4ge1xuICAgIHRoaXMubWFya1BhdGhUb1Jvb3RBc0NoZWNrT25jZSgpO1xuICAgIHZhciByZXN1bHQ6Ym9vbGVhbiA9IHRydWU7XG4gICAgaWYgKChldmVudE5hbWUgPT0gJ2Ryb3AnKSkge1xuICAgICAgY29uc3QgcGRfc3ViXzA6YW55ID0gKCg8YW55PnRoaXMuY29udGV4dC5vbkRyb3AoJGV2ZW50KSkgIT09IGZhbHNlKTtcbiAgICAgIHJlc3VsdCA9IChwZF9zdWJfMCAmJiByZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoKGV2ZW50TmFtZSA9PSAnZHJhZ292ZXInKSkge1xuICAgICAgY29uc3QgcGRfc3ViXzE6YW55ID0gKCg8YW55PnRoaXMuY29udGV4dC5vbkRyYWdPdmVyKCRldmVudCkpICE9PSBmYWxzZSk7XG4gICAgICByZXN1bHQgPSAocGRfc3ViXzEgJiYgcmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKChldmVudE5hbWUgPT0gJ2RyYWdsZWF2ZScpKSB7XG4gICAgICBjb25zdCBwZF9zdWJfMjphbnkgPSAoKDxhbnk+dGhpcy5jb250ZXh0Lm9uRHJhZ0xlYXZlKCkpICE9PSBmYWxzZSk7XG4gICAgICByZXN1bHQgPSAocGRfc3ViXzIgJiYgcmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSJdfQ==